<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Virtual DOM | kivi</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    
    <link rel="prev" href="../basics/01_components.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="2.2"
        data-chapter-title="Virtual DOM"
        data-filepath="basics/02_virtual_dom.md"
        data-basepath=".."
        data-revision="Wed May 11 2016 18:14:18 GMT+0600 (NOVT)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="01_getting_started.html">
            
                
                    <a href="../01_getting_started.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Getting Started
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" >
            
            <span><b>2.</b> Basics</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="basics/01_components.html">
            
                
                    <a href="../basics/01_components.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Components
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="2.2" data-path="basics/02_virtual_dom.html">
            
                
                    <a href="../basics/02_virtual_dom.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Virtual DOM
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >kivi</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="virtual-dom">Virtual DOM</h1>
<p>Virtual DOM simplifies the way to manage DOM mutations, just describe how your component should look at any point in
time and Virtual DOM reconciliation algorithm will make all necessary DOM operations to update component representation
in a most efficient way.</p>
<p>The basic Virtual DOM API that kivi provides is enough for most use cases. But when it isn&apos;t enough, kivi provides many
advanced tools that can reduce Virtual DOM diffing overhead, and it will be quite hard to beat its performance without
reimplementing similar algorithms.</p>
<h2 id="basic-api">Basic API</h2>
<h3 id="creating-virtual-dom-nodes">Creating Virtual DOM Nodes</h3>
<h5 id="createvelement">createVElement</h5>
<p>Function: <code>createVElement(tagName: string): VNode</code></p>
<p>Creates a virtual node representing a HTML Element.</p>
<h5 id="createvsvgelement">createVSvgElement</h5>
<p>Function: <code>createVSvgElement(tagName: string): VNode</code></p>
<p>Creates a virtual node representing a SVG Element.</p>
<h5 id="createvtext">createVText</h5>
<p>Function: <code>createVText(content: string): VNode</code></p>
<p>Creates a virtual node representing a Text Node.</p>
<h3 id="setting-vnode-properties">Setting VNode properties</h3>
<p>VNode object provides different chained methods to set properties.</p>
<p>For example:</p>
<pre><code class="lang-ts"><span class="hljs-keyword">const</span> e = createVElement(<span class="hljs-string">&quot;a&quot;</span>)
  .attrs({
    <span class="hljs-string">&quot;href&quot;</span>: <span class="hljs-string">&quot;localhost&quot;</span>,
    <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;Link to localhost&quot;</span>,
  })
  .children(<span class="hljs-string">&quot;Link to localhost&quot;</span>);
</code></pre>
<h5 id="attrs">attrs</h5>
<p>Method: <code>vnode.attrs(attrs: {[key: string]: any}): VNode</code></p>
<p>Set HTML attributes.</p>
<p>Attrs object should always have the same shape when creating virtual node representing the same element. To specify
dynamic shape attributes use <code>dynamiShapeAttrs</code> method.</p>
<h5 id="props">props</h5>
<p>Method: <code>vnode.props(props: {[key: string]: any}): VNode</code></p>
<p>Set properties.</p>
<p>Props object should always have the same shape when creating virtual node representing the same element. To specify
dynamic shape properties use <code>dynamiShapeProps</code> method.</p>
<p>When virtual node is mounted on top of existing HTML, all properties will be assigned during mounting phase.</p>
<h5 id="style">style</h5>
<p>Method: <code>vnode.style(style: string): VNode</code></p>
<p>Set style in CSS string format.</p>
<h5 id="class-name">class name</h5>
<p>Method: <code>vnode.className(className: string): VNode</code></p>
<p>Set class name.</p>
<h5 id="children">children</h5>
<p>Method <code>vnode.children(children: VNode[]|string): VNode</code></p>
<p>Set children.</p>
<h5 id="trackbykeychildren">trackByKeyChildren</h5>
<p>Method: <code>vnode.trackByKeyChildren(children: VNode[]): VNode</code></p>
<p>Set children with enabled tracking by key, all children should have a key and it should be unique among its siblings.</p>
<h5 id="key">key</h5>
<p>Method: <code>vnode.key(key: any): VNode</code></p>
<p>Set key.</p>
<p>Key should be unique among its siblings.</p>
<p>When track by key is enabled, children reconciliation algorithm uses a key value to find virtual node in old children
list that represented the same DOM node.</p>
<h3 id="using-virtual-dom-with-components">Using Virtual DOM with components</h3>
<h5 id="vrender">vRender</h5>
<p>Method: <code>componentDescriptor.vRender((c: Component&lt;P, S&gt;, root: VNode) =&gt; VNode)</code></p>
<p>Set default Virtual DOM render function.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../basics/01_components.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Components"><i class="fa fa-angle-left"></i></a>
        
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-edit-link/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-github/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-anker-enable/anker.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"edit-link":{"base":"https://github.com/localvoid/kivi/tree/master/docs","label":"Edit This Page"},"github":{"url":"https://github.com/localvoid/kivi/"},"anker-enable":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"all":["facebook","google","twitter","weibo","instapaper"],"facebook":true,"google":false,"instapaper":false,"twitter":true,"vk":false,"weibo":false},"fontsettings":{"family":"sans","size":2,"theme":"white"}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
